<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Orienteering</title>
    <script src="./js/jquery.min.js"></script>
    <script src="./js/jspsych.js"></script>
    <script src="./js/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="./js/plugins/jspsych-survey-multi-choice.js"></script>
    <script src="./js/plugins/jspsych-external-html.js"></script>
    <script src="./js/plugins/jspsych-instructions.js"></script>
    <script src="./js/plugins/jspsych-image-keyboard-response.js"></script>
    <link href="./js/css/jspsych.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body></body>
  <script>
    
    var timeline = [];
    var responsecorrect = false;

// #################  a banner screen that shows briefly  #################

    introduction = {
        type: 'image-keyboard-response',
        stimulus: 'img/intro1.jpg',
        trial_duration: 1000,
        choices: jsPsych.NO_KEYS
    };
    timeline.push(introduction);

// #################  The test questions  #################

var options_area = ["I can run / walk on this", "Its uncrossable"];
var options_object = ["I can cross this", "I have to go around"];


var instruction_check = {
        type: "survey-multi-choice",
        preamble: ["<p align='center'><b>Check your knowledge before you begin!</b></p>"],
        questions: [{prompt: "<b>Question 1</b>: Can you cross an area marked in this colour?    <img src=./img/GreenOB.jpg>", options: options_area},
            {prompt: "<b>Question 2</b>: Can you cross over one of these?    <img src=./img/okXfence.jpg>", options: options_object},
            {prompt: "<b>Question 3</b>: Is an area marked like this crossable?    <img src=./img/OBpurple.jpg>", options: options_area}],
        on_finish: function(data) {
            console.log(data.responses);
            if( data.responses == '{"Q0":"Its uncrossable","Q1":"I can cross this","Q2":"Its uncrossable"}') {
                return false;
            }else{
                return true;
            };
                
        }
};          
    timeline.push(instruction_check);   

 // #################  run the timeline  #################

    jsPsych.init ({
        timeline: timeline
    });


   </script>
</html>